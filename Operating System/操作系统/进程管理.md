<!-- GFM-TOC -->
* [进程与线程](#进程与线程)
    * [1. 进程](#1-进程)
    * [2. 线程](#2-线程)
    * [3. 区别](#3-区别)
* [进程状态的切换](#进程状态的切换)
* [进程调度算法](#进程调度算法)
    * [1. 批处理系统](#1-批处理系统)
    * [2. 交互式系统](#2-交互式系统)
    * [3. 实时系统](#3-实时系统)
* [进程同步](#进程同步)
    * [1. 临界区](#1-临界区)
    * [2. 同步与互斥](#2-同步与互斥)
    * [3. 信号量](#3-信号量)
    * [4. 管程](#4-管程)
* [经典同步问题](#经典同步问题)
    * [1. 哲学家进餐问题](#1-哲学家进餐问题)
    * [2. 读者-写者问题](#2-读者-写者问题)
* [进程通信](#进程通信)
    * [1. 管道](#1-管道)
    * [2. FIFO](#2-fifo)
    * [3. 消息队列](#3-消息队列)
    * [4. 信号量](#4-信号量)
    * [5. 共享存储](#5-共享存储)
    * [6. 套接字](#6-套接字)
<!-- GFM-TOC -->

# 进程与线程

### 进程

进程是资源分配的基本单位。

进程控制块 (Process Control Block, PCB) 描述进程的基本信息和运行状态，所谓的创建进程和撤销进程，都是指对 PCB 的操作。


### 线程

线程是独立调度的基本单位。

一个进程中可以有多个线程，它们共享进程资源。

### 区别

* 拥有资源

进程是资源分配的基本单位，但是线程不拥有资源，线程可以访问隶属进程的资源。

* 调度

线程是独立调度的基本单位，在同一进程中，线程的切换不会引起进程切换，从一个进程中的线程切换到另一个进程中的线程时，会引起进程切换。

* 系统开销

由于创建或撤销进程时，系统都要为之分配或回收资源，如内存空间、I/O 设备等，所付出的开销远大于创建或撤销线程时的开销。类似地，在进行进程切换时，涉及当前执行进程 CPU 环境的保存及新调度进程 CPU 环境的设置，而线程切换时只需保存和设置少量寄存器内容，开销很小。

### 进程状态切换

* 就绪状态

* 运行状态

* 阻塞状态

就绪态和运行态相互转换，其他单向转换

阻塞状态->缺少资源

就绪状态->缺少CPU

### 进程调度算法

* 批处理系统

    * 先来先服务

    * 短作业优先

    * 最短剩余时间优先

    * 时间片轮转

    * 优先级调度

### 进程同步


# 死锁

### 必要条件

* 互斥

* 占有和等待

* 不可强夺

* 环路等待

### 处理方法

* 死锁检测和死锁恢复


* 死锁预防

    * 破坏互斥

    * 破坏占有和等待

    * 破坏不可抢夺

    * 破坏环路等待

* 死锁避免

    * 银行家算法